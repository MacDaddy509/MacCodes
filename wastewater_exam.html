<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wastewater Operator Certification Exam</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}body{font-family:Arial,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:20px}.container{max-width:900px;margin:0 auto;background:#fff;border-radius:15px;box-shadow:0 20px 60px rgba(0,0,0,.3);overflow:hidden}.header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:30px;text-align:center}.header h1{font-size:28px;margin-bottom:10px}.progress-bar{background:#f0f0f0;height:8px}.progress-fill{background:linear-gradient(90deg,#667eea 0%,#764ba2 100%);height:100%;width:0;transition:width .3s}.content{padding:40px}.start-screen,.question-screen,.results-screen{display:none}.start-screen.active,.question-screen.active,.results-screen.active{display:block}.start-screen{text-align:center}.start-screen h2{color:#333;margin-bottom:20px}.start-screen p{color:#666;margin-bottom:30px;line-height:1.6}.btn{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border:none;padding:15px 40px;font-size:18px;border-radius:8px;cursor:pointer;transition:transform .2s}.btn:hover{transform:translateY(-2px);box-shadow:0 5px 20px rgba(102,126,234,.4)}.question-number{color:#667eea;font-weight:700;margin-bottom:10px}.question-text{font-size:20px;color:#333;margin-bottom:30px;line-height:1.6}.options{display:flex;flex-direction:column;gap:15px;margin-bottom:20px}.option{background:#f8f9fa;border:2px solid #e0e0e0;padding:20px;border-radius:10px;cursor:pointer;transition:all .3s;display:flex;align-items:center}.option:hover:not(.disabled){border-color:#667eea;background:#f0f4ff}.option.correct{border-color:#4caf50;background:#e8f5e9;cursor:default}.option.incorrect{border-color:#f44336;background:#ffebee;cursor:default}.option.disabled{cursor:default;opacity:.7}.option-letter{background:#667eea;color:#fff;width:35px;height:35px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;margin-right:15px;flex-shrink:0}.option.correct .option-letter{background:#4caf50}.option.incorrect .option-letter{background:#f44336}.feedback{display:none;padding:20px;border-radius:10px;margin-bottom:20px;line-height:1.6}.feedback.show{display:block}.feedback.correct-feedback{background:#e8f5e9;border-left:4px solid #4caf50;color:#2e7d32}.feedback.incorrect-feedback{background:#ffebee;border-left:4px solid #f44336;color:#c62828}.feedback-title{font-weight:700;margin-bottom:10px;font-size:18px}.feedback-explanation{color:#333;margin-top:10px}.navigation{display:flex;justify-content:flex-end;margin-top:30px}.results-screen h2{color:#333;margin-bottom:20px;font-size:28px;text-align:center}.score-display{text-align:center;margin:30px 0;padding:40px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border-radius:15px;color:#fff}.score-display .score{font-size:60px;font-weight:700;margin-bottom:10px}
</style>
</head>
<body>
<div class="container">
<div class="header"><h1>Wastewater Operator Certification Exam</h1><p>100 Questions - Randomized</p></div>
<div class="progress-bar"><div class="progress-fill" id="progress"></div></div>
<div class="content">
<div class="start-screen active" id="startScreen">
<h2>Practice Exam</h2>
<p>100 questions with immediate feedback and explanations.</p>
<button class="btn" onclick="startExam()">Start Exam</button>
</div>
<div class="question-screen" id="questionScreen">
<div class="question-number" id="questionNumber"></div>
<div class="question-text" id="questionText"></div>
<div class="options" id="options"></div>
<div class="feedback" id="feedback"></div>
<div class="navigation"><button class="btn" onclick="nextQuestion()" id="nextBtn" style="display:none">Next</button></div>
</div>
<div class="results-screen" id="resultsScreen">
<h2>Complete!</h2>
<div class="score-display">
<div class="score" id="scoreNumber"></div>
<div id="scorePercentage"></div>
</div>
<div style="text-align:center;margin-top:30px"><button class="btn" onclick="restartExam()">Retake</button></div>
</div>
</div>
</div>
<script>
const data="1|How is sludge age determined?|MCRT,SVI,F/M,TSS|MCRT|MCRT measures average time solids remain in system~2|What is a sludge blanket?|Settled sludge in a primary clarifier,Solids floating over a weir,Layer of solids on the bottom of the clarifier,Something an operator wears|Layer of solids on the bottom of the clarifier|Accumulated settled solids at clarifier bottom~3|How much oxygen depletion is needed for a valid BOD test?|0.5 mg/L,1 mg/L,1.5 mg/L,2 mg/L|2 mg/L|Minimum 2 mg/L ensures valid BOD results~4|The highest removal efficiencies in an RBC will occur in:|Cold weather,Warm weather,Temperature has no effect,Rainy weather|Warm weather|Biological activity increases with temperature~5|What are the predominant organisms indicative of old sludge?|Flagellates and amoeboids,Rotifers and nematodes,Stalked ciliates and free swimming ciliates,Free swimming ciliates and amoeboids|Rotifers and nematodes|Higher-order organisms appear in older sludge~6|For security purposes where should a POTW/WRRF be built?|Next to a school,Near a shopping mall,Hidden from view,Next to a water treatment facility|Hidden from view|Facilities should be away from public areas~7|What measurement is used to determine UV effectiveness?|UV intensity,UV residual,Contact time,Chlorine residual|UV intensity|UV intensity determines disinfection effectiveness~8|What is the hydraulic loading for a trickling filter system that has a diameter of 60 ft and an influent flow of 0.25 MGD?|8.8 gpd/ft²,88.5 gpd/ft²,53.2 gpd/ft²,9.3 gpd/ft²|88.5 gpd/ft²|Area=2827 ft². Loading=250000/2827≈88.5~9|Which piece of equipment is not used for suspended solids testing?|Pipette,Triple-beam balance,Glass-fiber filter,Filter apparatus|Triple-beam balance|Analytical balances are standard for TSS~10|Which conditions favor the growth of filamentous organisms in the activated sludge process?|High DO high pH,High BOD high pH,Low DO low F/M,High nutrients high pH|Low DO low F/M|Low DO and F/M favor filamentous bacteria~11|What is the purpose of a SCADA system?|Clean grease lines,Justify more cleaning crews,Control equipment and collect data points,Set collection and data appointments|Control equipment and collect data points|SCADA automates control and monitors data~12|Given the following data calculate the seeded BOD: Sample 10mL Seed 1mL Initial DO 9.2 Final DO Effluent 5.1 Seed 7.2|120 mg/L,52 mg/L,78 mg/L,102 mg/L|102 mg/L|Seeded BOD calculation yields 102 mg/L~13|Which temperature on Centigrade scale does 95°F correspond to?|35°C,63°C,95°C,120°C|35°C|Formula: (95-32)×5/9=35°C~14|What is the sequence of steps for proper operation of a sequencing batch reactor SBR?|Decant react settle fill,Fill settle decant react,Settle react fill decant,Fill react settle decant|Fill react settle decant|SBRs: Fill React Settle Decant~15|What time of day are DO levels the lowest in a facultative lagoon?|Night,Morning,All day,Afternoon|Morning|DO drops overnight reaching lowest in morning~16|What is the primary function of the center ring in a clarifier?|Increase velocity,Collect solids,Dissipate velocity,Collect scum|Dissipate velocity|Center ring dissipates flow velocity~17|A wet well is 5ft diameter with 12 ft water. Pump at 55 gpm turns off at 6 ft. How long to pump from 12 to 6ft?|1 hour,1.5 hours,4 hours,15 minutes|4 hours|Volume and pumping rate yield ~4 hours~18|Reviewing all aspects of wastewater system to determine what would occur during emergencies is known as?|Management effectiveness survey,Environmental audit,Comprehensive performance evaluation,Vulnerability assessment|Vulnerability assessment|Identifies failure points and emergency prep~19|What volume of glucose-glutamic acid is required when directly adding to standard 300mL BOD bottle?|6.0 mL,12.0 mL,5.0 mL,1.0 mL|6.0 mL|Standard practice requires 6.0 mL per 300mL~20|What is the penalty for falsifying lab data?|Misdemeanor,Felony,No penalty,Promotion|Felony|Falsifying data is felony due to public health~21|For a trickling filter organic loading is typically expressed as?|lb BOD5/d,lb BOD5,lb BOD5/d/1000 ft²,lb BOD5/d/1000 ft³|lb BOD5/d/1000 ft³|Volumetric: pounds BOD per day per 1000 ft³~22|What is the minimum detention time for a chlorine contact chamber?|15 minutes,30 minutes,60 minutes,90 minutes|15 minutes|Minimum 15 min for effective disinfection~23|In a centrifugal pump internal leakage is prevented by?|Impellers,Volutes,Sleeves,Wear rings|Wear rings|Wear rings minimize internal recirculation~24|How is a sour digester corrected?|Add chlorine,Add water,Add lime,Add sulfur|Add lime|Lime increases pH neutralizes excess acids~25|Wastewater entering a treatment plant is typically?|Somewhat warmer than unheated tap water,Same temperature as unheated tap water,Somewhat cooler than unheated tap water,Very much cooler than unheated tap water|Somewhat warmer than unheated tap water|Warmer due to household use~26|Employee hazards include which of the following?|Toxic gasses or vapors,Physical injuries,Oxygen deficiency,All of the above|All of the above|Multiple hazards present in facilities~27|What bacteria are responsible for stabilizing sludge in an anaerobic digester?|Notobactor,Photosynthesizers,Methanogens,Oxidizers|Methanogens|Methanogens convert organics to methane~28|The two types of RBC drive mechanisms are:|Centrifugal and mechanical,Mechanical and air,Air and brake horsepower,Hydraulic and centrifugal|Mechanical and air|Driven by motors or air systems~29|Which are waterborne diseases?|Scarlet fever pneumonia chickenpox,Mumps measles colds,TB diphtheria chickenpox,Typhoid dysentery cholera|Typhoid dysentery cholera|Transmitted through contaminated water~30|A pump's impeller needs replacement. What is the first action?|Notify supervisors,Tell operators not to turn on pump,Disconnect circuit breaker tag it lock it out,Turn on the pump|Disconnect circuit breaker tag it lock it out|Lockout tagout for worker safety~31|Centrifugal pump bearings are excessively hot. The likely cause is:|Worn impeller,Speed too slow,Worn packing,Over lubrication|Over lubrication|Excessive lubrication causes heat buildup~32|What is the purpose of heating and mixing a primary anaerobic digester?|Prevent grit settling,Eliminate oxygen,Keep methane in suspension,Increase reaction rate|Increase reaction rate|Optimizes bacterial activity increases rates~33|Gas chlorinator: sluggish feed rate max not reached low injector water normal pressure low vacuum. Cause?|Vacuum loss,Injector clogged,Feed rate indicator clogged,Clogged supply line|Injector clogged|Clogged injector restricts water flow~34|What action for streaks of sludge on belt filter press?|Increase sludge feed rate,Increase polymer feed rate,Wipe better next time,Clean washbox nozzles|Clean washbox nozzles|Clogged nozzles don't clean belt properly~35|The actual output of a pump motor is referred to as:|Water horsepower,Velocity head,Wire horsepower,Brake horsepower|Brake horsepower|Mechanical output of motor shaft~36|Reactor with influent fed at 2+ points along its length is:|Plug-flow,Step feed,Sequential batch,Oxidation ditch|Step feed|Distributes flow at multiple points~37|What is the typical cause of ponding on a trickling filter?|Excessive biological growth on media,Foreign material,Insufficient filter wetting,Insufficient ventilation|Excessive biological growth on media|Slime growth clogs media causes ponding~38|An atmosphere is oxygen deficient when oxygen is below:|17%,19.5%,20%,21.5%|19.5%|OSHA defines deficiency as below 19.5%~39|Most dissolved oxygen in a facultative lagoon comes from?|Nitrification,Algae photosynthesis,Breakdown of organic matter,Addition of sodium nitrate|Algae photosynthesis|Algae produce oxygen during daylight~40|5 oz dry polymer + 15 gal water = what % strength? 16 oz/lb|0.25%,0.5%,1%,10%|0.25%|5oz=0.3125lb 15gal=125lb. 0.3125/125×100=0.25%~41|Oxidation of ammonia to nitrate by biological means is called?|Nitrogen Cycle,Denitrification,Nitrification,Nitrosomonas|Nitrification|Two-step process: ammonia to nitrite to nitrate~42|Which is NOT a type of odor control?|Diatomaceous earth,Ozone,Hydrogen peroxide,Odor removal tower scrubber|Diatomaceous earth|Filter aid not odor control method~43|Purpose of diffused air in an aerated grit chamber?|Control odors,Reduce air for activated sludge,Allow grit to settle keep organics suspended,Start decomposition|Allow grit to settle keep organics suspended|Rolling action allows grit settling~44|Sludge in gravity drying beds should be at depth not greater than?|12-15 inches,2-4 inches,18-20 inches,8-12 inches|8-12 inches|8-12 inches allows proper drainage drying~45|On light spectrum 244 Nanometers are:|Gamma rays,X-rays,Ultraviolet rays,Infrared rays|Ultraviolet rays|244nm in UV-C range for disinfection~46|What unit quantifies fecal coliform results?|MPN,BOD,mg/g,ml/L|MPN|Most Probable Number for coliform bacteria~47|Which chemical for phosphorus removal?|Aluminum chloride,Ferrous sulfate,Sodium hydroxide,Sodium bisulfite|Aluminum chloride|Aluminum salts precipitate phosphorus~48|Calculate MCRT: Flow 5MGD Tank 4MG Clarifier 0.24MG MLSS 2700 Eff TSS 3.5 WAS 0.1MGD WAS TSS 8000|4 days,8 days,12 days,14 days|14 days|MCRT formula yields approximately 14 days~49|Filter flies could be caused by all EXCEPT?|Excessive hydraulic loading,Insufficient spray to outside wall,Tall grass weeds around filter,Plugged nozzles|Excessive hydraulic loading|Excessive loading washes flies away~50|pH range for optimal growth of nitrifying bacteria?|8.5-9.5,6.5-7.5,5.5-6.5,7.5-8.5|7.5-8.5|Nitrifiers prefer slightly alkaline pH 7.5-8.5~51|Light stiff billowy white foam on aeration tank indicates? What action?|High F:M decrease wasting,Low F:M decrease wasting,Low F:M increase wasting,High F:M increase wasting|Low F:M increase wasting|White foam indicates low F/M old sludge~52|Most critical for successful staffing plan implementation?|Lawyer review,Personnel selection,Communicate plan in advance,Board approval|Communicate plan in advance|Advance communication ensures buy-in~53|Gravity thickeners are most similar to?|Biological reactor,Clarifier,Centrifuge,Grit classifier|Clarifier|Operate similarly using settling~54|Which test measures biological activity and aeration in reactor?|VSS,SS,SOUR,TKN|SOUR|SOUR directly measures biological activity~55|Precipitation of magnesium ammonium phosphate in digester is:|Crystallization,Scaling,Fouling,Descaling|Scaling|Struvite scaling common maintenance issue~56|Calculate SVI: 5-min 750mL/L 30-min 200mL/L MLSS 2000mg/L|82 mL/g,100 mL/g,120 mL/g,188 mL/g|100 mL/g|SVI=(200×1000)/2000=100 mL/g~57|Most likely to reduce UV treatment effectiveness?|RAS rate,SVI,TSS,F/M|TSS|TSS shields microorganisms from UV~58|Adding chlorine until demand removed and residual generated is:|Oxidation-reduction potential,Residual generation,Over-chlorinating,Breakpoint chlorination|Breakpoint chlorination|Satisfies demand creates free chlorine~59|Begin BOD analysis within ___ hours if unable to analyze immediately:|6,8,24,28|6|Analyze within 6 hours prevent degradation~60|A 1% solution equals:|1 mg/L,10 mg/L,1000 mg/L,10000 mg/L|10000 mg/L|1%=10000 mg/L or 10 g/L~61|Polymer 12mg/L flow 4.7MGD polymer 5.36lb/gal. Feeder setting GPD?|22 GPD,58 GPD,88 GPD,122 GPD|88 GPD|Calculation yields approximately 88 GPD~62|Calculate lbs SS removed: Flow 1.5MGD Inf TSS 221 Pri Eff 159|636.3 lbs/day,775.6 lbs/day,1576 lbs/day,2352 lbs/day|775.6 lbs/day|221-159×1.5×8.34=775.6 lbs/day~63|Total Kjeldahl Nitrogen TKN refers to:|Organic nitrogen,Ammonia and nitrite,Nitrate and pH,Organic nitrogen and ammonia nitrogen|Organic nitrogen and ammonia nitrogen|TKN measures organic and ammonia nitrogen~64|If large increase of influent solids may need to increase ___ in aeration tank:|MLVSS,BOD,Total suspended solids,Phosphorus|MLVSS|MLVSS represents active biomass~65|Calculate BOD: 2mL sample 300mL bottle Initial DO 7.5 Final DO 3.9|3.6 mg/L,150 mg/L,540 mg/L,700 mg/L|540 mg/L|7.5-3.9×300/2=540 mg/L~66|Velocity in 12 inch pipe is 3.75 ft/sec what is flow?|0.2 ft³/sec,2.9 ft³/sec,3.1 ft³/sec,4.8 ft³/sec|2.9 ft³/sec|Flow=Area×Velocity≈2.9 ft³/sec~67|How many gallons in 1324 ft of 8 inch pipe?|3493 gallons,3852 gallons,462 gallons,497553 gallons|3493 gallons|Volume calculation yields 3493 gallons~68|Chlorine demand 3.5mg/L desired residual 1.2mg/L. Dosage?|2.3 mg/L,6.2 mg/L,3.7 mg/L,4.7 mg/L|4.7 mg/L|Dosage=Demand+Residual=3.5+1.2=4.7~69|Total coliform multiple tube fermentation is positive when:|Durham tube upside down,Color changes amber to brown,No bubbles in Durham tube,Gas bubbles found in Durham tube|Gas bubbles found in Durham tube|Gas production indicates coliform presence~70|280gpm 175ft head pump 65% eff motor 90% eff. Motor HP?|33 Hp,27 Hp,21 Hp,18 Hp|33 Hp|Calculation yields approximately 33 Hp~71|New centrifugal pump vibrating heavily at startup. Likely cause?|Worn impeller,Over lubricated,There is air in the volute,Normal for new pump|There is air in the volute|Air trapped in volute causes vibration~72|Permit requires 3 settleable solids samples/day. You grab 5. Which to report?|First 3 grabbed,3 highest values,All 5 samples,Best 3 samples|All 5 samples|Report all samples collected~73|Which parameter uses geometric mean?|BOD,COD,Total coliform,TSS|Total coliform|Coliform results use geometric mean~74|BOD sample can be removed at 5 days +/- how many hours?|2 hours,4 hours,6 hours,8 hours|6 hours|Read between 4.5 and 5.5 days ±6 hours~75|Correct temperature range for drying TSS samples?|99-101°C,103-105°C,105-107°C,107-109°C|103-105°C|TSS dried at 103-105°C per Standard Methods~76|Which influent characteristics have most adverse impact?|Low flow pH 7 low TSS,Avg flow pH 7 low BOD,Low flow pH 4 zero DO,Avg flow pH 7 zero DO|Low flow pH 4 zero DO|pH 4 extremely acidic zero DO septic~77|Temperature range for thermophilic digester?|78-95°F,122-140°F,86-100°F,101-133°F|122-140°F|Thermophilic digesters operate 122-140°F~78|Pump uses 15.2hp delivers 800gpm 75ft head. kW needed?|9.7 kW,11.3 kW,20.4 kW,17.2 kW|11.3 kW|15.2hp×0.746kW/hp≈11.3kW~79|Aeration basin 30×20×25ft flow 400gpm. Detention time hours?|5.2 hours,4.7 hours,3.1 hours,7.9 hours|3.1 hours|Volume/Flow yields approximately 3.1 hours~80|Which aeration mode most effective for high organic loading?|Plug flow,Extended aeration,Step feed,Dissolved air flotation|Step feed|Step feed distributes high loads along tank~81|If filamentous bacteria rapidly increase most likely to happen?|Improved settling,Decreased oxygen consumption,Bulking sludge potential effluent carryover,Enhanced organic removal|Bulking sludge potential effluent carryover|Filamentous cause poor settling bulking~82|Which would you NOT use to measure flow?|Weir,Parshall flume,Venturi meter,Baffle|Baffle|Baffles for distribution not measurement~83|Velocity for proper grit removal?|0.5 ft/s,1 ft/s,2 ft/s,3 ft/s|1 ft/s|1 ft/s allows grit settling organics suspended~84|Most effective approach for performance evaluation with feedback and improvements?|Send email,Schedule private meeting discuss evaluation in detail,Post on bulletin board,Send text|Schedule private meeting discuss evaluation in detail|Private meetings allow detailed discussion~85|Why preserve solids samples by refrigeration?|Slow biological activity prevent decomposition,Make solids settle rapidly,Lock in density,Don't need refrigeration|Slow biological activity prevent decomposition|Refrigeration slows bacterial activity~86|Anaerobic decomposition produces which gas?|Ammonium chloride,Hydrogen sulfide,Oxygen,Ferric chloride|Hydrogen sulfide|Produces H2S methane other gases~87|WAS pump: 2.7gal/stroke 40strokes/min. Time to pump 3750lbs/day at 5% WAS?|52 minutes,67 minutes,83 minutes,90 minutes|67 minutes|Calculation yields approximately 67 minutes~88|Consequence of excessive aeration in activated sludge?|Increased sludge production,Decreases denitrification efficiency,Poor floc formation,No such thing|Decreases denitrification efficiency|Excess oxygen prevents denitrification~89|How is F/M ratio typically adjusted?|Alter alkalinity,Adjusting sludge wasting rate,Modify RAS rate,Change filter media|Adjusting sludge wasting rate|Wasting rate adjusts microorganism concentration~90|Alkalinity measures water's ability to:|Neutralize acids,Neutralize bases,Resist temperature changes,Dissolve organic material|Neutralize acids|Buffering capacity to neutralize acids~91|Filamentous bulking may be controlled temporarily by:|Adding sodium chloride,Spraying water on surface,Chlorinating return activated sludge,Aerating final settling tank|Chlorinating return activated sludge|Chlorinating RAS kills filamentous bacteria~92|Fastest indication of toxicity in activated sludge?|Settleometer,MLSS,Microscopic observation,Oxygen Uptake Rate OUR|Oxygen Uptake Rate OUR|OUR immediately drops with toxicity~93|Recommended regular maintenance for UV system?|Change bulbs,Cleaning quartz sleeves,Flush chambers,Turn power on/off|Cleaning quartz sleeves|Regular cleaning maintains UV transmission~94|Allowable maximum temperature to cool sample for analysis?|2°C,4°C,6°C,8°C|6°C|Samples cooled to 6°C or below~95|SVI determined using which pair of tests?|BOD and TSS,TSS and OUR,BOD and MLSS,SSV30 and MLSS|SSV30 and MLSS|SVI=Settled volume×1000/MLSS~96|Calculate SS concentration: Volume 100mL Filter 0.355g Filter+residue 0.429g|520 mg/L,740 mg/L,1020 mg/L,950 mg/L|740 mg/L|0.429-0.355×1000×1000/100=740~97|Which impeller most effectively pumps wastewater with higher solids debris?|Open,Closed,Semi-open,Peristaltic|Open|Open impellers allow passage of solids~98|Why collect flow proportional composite samples?|Flow continually changing,Grab samples inconvenient,Flow and waste characteristics continually changing,Waste characteristics don't change|Flow and waste characteristics continually changing|Account for varying flow and characteristics~99|Calculate F/M: BOD 240mg/L Tank 1.5MG Flow 9.7MGD MLVSS 1800mg/L|0.76,0.23,0.42,0.86|0.86|240×9.7/1800×1.5=0.86~100|Maximum holding time for nitrate analysis?|24 hours,48 hours,1 day,7 days|48 hours|Must analyze within 48 hours";
let qData=[],shufQ=[],curIdx=0,corAns=0,hasAns=false;
data.split('~').forEach(item=>{let[,q,opts,cor,exp]=item.split('|');qData.push({q,o:opts.split(','),c:cor,e:exp})});
function shufArr(a){let s=[...a];for(let i=s.length-1;i>0;i--){let j=Math.floor(Math.random()*(i+1));[s[i],s[j]]=[s[j],s[i]]}return s}
function startExam(){shufQ=shufArr(qData).map(q=>({question:q.q,options:shufArr(q.o),correctAnswer:q.c,explanation:q.e}));curIdx=0;corAns=0;document.getElementById('startScreen').classList.remove('active');document.getElementById('questionScreen').classList.add('active');showQuestion()}
function showQuestion(){hasAns=false;let q=shufQ[curIdx];document.getElementById('questionNumber').textContent=`Question ${curIdx+1} of ${shufQ.length}`;document.getElementById('questionText').textContent=q.question;let optDiv=document.getElementById('options');optDiv.innerHTML='';q.options.forEach((opt,i)=>{let d=document.createElement('div');d.className='option';d.onclick=()=>selectOption(i);d.innerHTML=`<div class="option-letter">${String.fromCharCode(65+i)}</div><div>${opt}</div>`;optDiv.appendChild(d)});document.getElementById('feedback').className='feedback';document.getElementById('feedback').innerHTML='';document.getElementById('nextBtn').style.display='none';updateProgress()}
function selectOption(optIdx){if(hasAns)return;hasAns=true;let q=shufQ[curIdx],selAns=q.options[optIdx],isCor=selAns===q.correctAnswer;if(isCor)corAns++;let opts=document.querySelectorAll('.option');opts.forEach((opt,i)=>{opt.classList.add('disabled');if(q.options[i]===q.correctAnswer)opt.classList.add('correct');else if(i===optIdx&&!isCor)opt.classList.add('incorrect');opt.onclick=null});let fb=document.getElementById('feedback');fb.className='feedback show '+(isCor?'correct-feedback':'incorrect-feedback');if(isCor){fb.innerHTML='<div class="feedback-title">✓ Correct! Great job!</div><div>You earned 1 point.</div>'}else{let corIdx=q.options.indexOf(q.correctAnswer),corLet=String.fromCharCode(65+corIdx);fb.innerHTML=`<div class="feedback-title">✗ Incorrect</div><div><strong>Correct answer is ${corLet}: ${q.correctAnswer}</strong></div><div class="feedback-explanation">${q.explanation}</div>`}document.getElementById('nextBtn').style.display='block'}
function nextQuestion(){if(curIdx<shufQ.length-1){curIdx++;showQuestion()}else{showResults()}}
function updateProgress(){let prog=((curIdx+1)/shufQ.length)*100;document.getElementById('progress').style.width=prog+'%'}
function showResults(){let pct=Math.round((corAns/shufQ.length)*100);document.getElementById('questionScreen').classList.remove('active');document.getElementById('resultsScreen').classList.add('active');document.getElementById('scoreNumber').textContent=`${corAns}/${shufQ.length}`;document.getElementById('scorePercentage').textContent=`${pct}% Correct`;document.getElementById('progress').style.width='100%'}
function restartExam(){document.getElementById('resultsScreen').classList.remove('active');document.getElementById('startScreen').classList.add('active');document.getElementById('progress').style.width='0%'}
</script>
</body>
</html>